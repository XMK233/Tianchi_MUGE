我们在这里，尝试不要让AI生成整体框架，而是我们指导AI一步一步做开发。

比如第一步让他先开发一个加载指定量数据的代码。我们可以指定其加载多少量的数据，如果是加载训练集，那就如何如何加载，如果是加载验证集合应该如何如何加载，如果是加载测试集应该如何如何加载。这样一码三用。

然后就是训练阶段，如果是普通sft应该怎么训练，如果是scst应该怎么训练，如何利用上面的数据加载工具等等。

训练完模型之后就可以搞一个做generate和evaluation的。generate可以在验证集和测试集上服用，evaluation可以在训练集上用。

-------

我们需要大致了解一下train、valid、test数据集的组成形式，然后才好设计。

中间的什么beam search啥的，交给AI来具体实现即可。

如果有可能，在训练和推理的过程中，还可以去做量化、精度、deepspeed之类的，但凡有可能促进降低显存、内存消耗并提速的东西，都tmd给我整上。

要开发一个能够指定image id之后，能加载出其图片和caption的方法，并且还能把图片展示出来，这样好让我们分析caption生成的效果好不好。

可以这样：先把流水线搭起来，加载训练数据，加载验证集数据，随机生成文本，计算cider，加载测试数据集，随机生成文本。然后再看如果不做微调，直接拿现成vl模型做会是什么一个效果（可以横向对比不同家的模型，以及纵向对比不同版本的模型或者不同大小的模型，可以考虑使用魔搭社区的模型，可能下载会比huggingface的顺畅吧），再看如果sft微调，scst微调又会是什么效果，是否有所提升。